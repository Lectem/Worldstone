<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Worldstone: WorldStone::DCC Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Worldstone
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classWorldStone_1_1DCC.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classWorldStone_1_1DCC-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">WorldStone::DCC Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Decoder for the <a class="el" href="classWorldStone_1_1DCC.html" title="Decoder for the DCC image format. ">DCC</a> image format.  
 <a href="classWorldStone_1_1DCC.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="dcc_8h_source.html">dcc.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structWorldStone_1_1DCC_1_1Direction.html">Direction</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structWorldStone_1_1DCC_1_1DirectionHeader.html">DirectionHeader</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents a direction header.  <a href="structWorldStone_1_1DCC_1_1DirectionHeader.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structWorldStone_1_1DCC_1_1FrameHeader.html">FrameHeader</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structWorldStone_1_1DCC_1_1Header.html">Header</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The header of the file, contains global information about the encoded image.  <a href="structWorldStone_1_1DCC_1_1Header.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3d5f642826809d8b433a48f97b07e1ce"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWorldStone_1_1DCC.html#a3d5f642826809d8b433a48f97b07e1ce">initDecoder</a> (StreamPtr &amp;&amp;streamPtr)</td></tr>
<tr class="memdesc:a3d5f642826809d8b433a48f97b07e1ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start decoding the stream and preparing data.  <a href="#a3d5f642826809d8b433a48f97b07e1ce">More...</a><br/></td></tr>
<tr class="separator:a3d5f642826809d8b433a48f97b07e1ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ebd3f4111738f26326acea79e9db399"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6ebd3f4111738f26326acea79e9db399"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWorldStone_1_1DCC.html#a6ebd3f4111738f26326acea79e9db399">reset</a> ()</td></tr>
<tr class="memdesc:a6ebd3f4111738f26326acea79e9db399"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the decoder and frees resources. <br/></td></tr>
<tr class="separator:a6ebd3f4111738f26326acea79e9db399"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a491736b40cf82ec189e9284b4cbb24b7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWorldStone_1_1DCC.html#a491736b40cf82ec189e9284b4cbb24b7">readDirection</a> (<a class="el" href="structWorldStone_1_1DCC_1_1Direction.html">Direction</a> &amp;outDir, uint32_t dirIndex, <a class="el" href="classWorldStone_1_1IImageProvider.html">IImageProvider</a>&lt; uint8_t &gt; &amp;imgProvider)</td></tr>
<tr class="memdesc:a491736b40cf82ec189e9284b4cbb24b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decodes a direction of the file into memory.  <a href="#a491736b40cf82ec189e9284b4cbb24b7">More...</a><br/></td></tr>
<tr class="separator:a491736b40cf82ec189e9284b4cbb24b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa94dc2287793a15b06b56f959d689fc6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa94dc2287793a15b06b56f959d689fc6"></a>
const <a class="el" href="structWorldStone_1_1DCC_1_1Header.html">Header</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWorldStone_1_1DCC.html#aa94dc2287793a15b06b56f959d689fc6">getHeader</a> () const </td></tr>
<tr class="memdesc:aa94dc2287793a15b06b56f959d689fc6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the header of the file read by extractHeaderAndOffsets. <br/></td></tr>
<tr class="separator:aa94dc2287793a15b06b56f959d689fc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:af5511cc1cae916338a14f0e05f1b265f"><td class="memItemLeft" align="right" valign="top">static constexpr unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWorldStone_1_1DCC.html#af5511cc1cae916338a14f0e05f1b265f">bitsWidthTable</a> [16]</td></tr>
<tr class="memdesc:af5511cc1cae916338a14f0e05f1b265f"><td class="mdescLeft">&#160;</td><td class="mdescRight">An array that maps an encoded 4-bit size to the real size in bits.  <a href="#af5511cc1cae916338a14f0e05f1b265f">More...</a><br/></td></tr>
<tr class="separator:af5511cc1cae916338a14f0e05f1b265f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a42b167e2a0927cddbbc3da5a7a25bc9a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a42b167e2a0927cddbbc3da5a7a25bc9a"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>getDirectionSize</b> (uint32_t dirIndex)</td></tr>
<tr class="separator:a42b167e2a0927cddbbc3da5a7a25bc9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4246781b4d052b5a3894ba97200013ce"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4246781b4d052b5a3894ba97200013ce"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>extractHeaderAndOffsets</b> ()</td></tr>
<tr class="separator:a4246781b4d052b5a3894ba97200013ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a8d58960955ad7f37a1ee746dd2ecf6a7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8d58960955ad7f37a1ee746dd2ecf6a7"></a>
StreamPtr&#160;</td><td class="memItemRight" valign="bottom"><b>stream</b> = nullptr</td></tr>
<tr class="separator:a8d58960955ad7f37a1ee746dd2ecf6a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85ffc724c3a6648a0bb0b8f09937b23e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a85ffc724c3a6648a0bb0b8f09937b23e"></a>
<a class="el" href="structWorldStone_1_1DCC_1_1Header.html">Header</a>&#160;</td><td class="memItemRight" valign="bottom"><b>header</b></td></tr>
<tr class="separator:a85ffc724c3a6648a0bb0b8f09937b23e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e1801763e93b3720f8062fde2af63c2"><td class="memItemLeft" align="right" valign="top">Vector&lt; uint32_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWorldStone_1_1DCC.html#a2e1801763e93b3720f8062fde2af63c2">directionsOffsets</a></td></tr>
<tr class="memdesc:a2e1801763e93b3720f8062fde2af63c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Offset of each direction header in the file, follows the <a class="el" href="structWorldStone_1_1DCC_1_1Header.html">Header</a>.  <a href="#a2e1801763e93b3720f8062fde2af63c2">More...</a><br/></td></tr>
<tr class="separator:a2e1801763e93b3720f8062fde2af63c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75935af028bc1cdfd50ad0b56f178fae"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a75935af028bc1cdfd50ad0b56f178fae"></a>
Vector&lt; uint32_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>framePointers</b></td></tr>
<tr class="separator:a75935af028bc1cdfd50ad0b56f178fae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Decoder for the <a class="el" href="classWorldStone_1_1DCC.html" title="Decoder for the DCC image format. ">DCC</a> image format. </p>
<p>The <a class="el" href="classWorldStone_1_1DCC.html" title="Decoder for the DCC image format. ">DCC</a> format is a compressed sprite image format. It can store multiple directions and frames in a single file. A palette is used to generate the colors, but the file itself doesn't have any information about the palette to use, it is up to the user to know which one to use. </p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="structWorldStone_1_1Palette.html" title="Helper to load a Diablo 2 palette (.pal/.dat format) ">WorldStone::Palette</a></dd></dl>
<p>This format is usually used with <a class="el" href="classWorldStone_1_1COF.html" title="Decoder for the COF (Components Object File) file format. ">COF</a> files, which describe the animations and blending of multiple <a class="el" href="classWorldStone_1_1DCC.html" title="Decoder for the DCC image format. ">DCC</a> files.</p>
<p>Layout of a <a class="el" href="classWorldStone_1_1DCC.html" title="Decoder for the DCC image format. ">DCC</a> file: </p>
<table class="doxtable">
<tr>
<th>Name </th><th>Type </th><th>Size in Bytes </th><th>Offsets  </th></tr>
<tr>
<td>header </td><td><a class="el" href="structWorldStone_1_1DCC_1_1Header.html" title="The header of the file, contains global information about the encoded image. ">DCC::Header</a> </td><td>15 </td><td>0x00 </td></tr>
<tr>
<td>directionsOffsets </td><td>uint32_t[dirs] </td><td>4 * header.directions </td><td>0x0F </td></tr>
<tr>
<td>First <a class="el" href="structWorldStone_1_1DCC_1_1Direction.html">Direction</a> </td><td><a class="el" href="structWorldStone_1_1DCC_1_1Direction.html">DCC::Direction</a> </td><td>directionsOffsets[1] - directionsOffsets[0] </td><td>directionsOffsets[0] </td></tr>
<tr>
<td>*** </td><td></td><td></td></tr>
<tr>
<td>Last <a class="el" href="structWorldStone_1_1DCC_1_1Direction.html">Direction</a> </td><td><a class="el" href="structWorldStone_1_1DCC_1_1Direction.html">DCC::Direction</a> </td><td>filesize - directionsOffsets[directions-1] </td><td>directionsOffsets[directions-1] </td></tr>
</table>
<p><a class="el" href="structWorldStone_1_1DCC_1_1Direction.html">Direction</a> layout: </p>
<table class="doxtable">
<tr>
<th>Name </th><th>Type </th><th>Size  </th></tr>
<tr>
<td>dirHeader[0] </td><td><a class="el" href="structWorldStone_1_1DCC_1_1DirectionHeader.html" title="Represents a direction header. ">DCC::DirectionHeader</a> </td><td>32 + 30 bits </td></tr>
<tr>
<td></td><td></td></tr>
<tr>
<td>frameHeader[0] </td><td><a class="el" href="structWorldStone_1_1DCC_1_1FrameHeader.html">DCC::FrameHeader</a> </td><td>Based on the <a class="el" href="structWorldStone_1_1DCC_1_1DirectionHeader.html" title="Represents a direction header. ">DirectionHeader</a> values </td></tr>
<tr>
<td>*** </td><td></td></tr>
<tr>
<td>frameHeader[framesPerDir-1] </td><td><a class="el" href="structWorldStone_1_1DCC_1_1FrameHeader.html">DCC::FrameHeader</a> </td><td>Based on the <a class="el" href="structWorldStone_1_1DCC_1_1DirectionHeader.html" title="Represents a direction header. ">DirectionHeader</a> values </td></tr>
<tr>
<td></td><td></td></tr>
<tr>
<td>align </td><td>(unused) </td><td>Align to byte if any frame has additionnal data </td></tr>
<tr>
<td>Frame 0 additionnal data </td><td>byte[] </td><td>frameHeader[0].optionalBytes </td></tr>
<tr>
<td>*** </td><td></td></tr>
<tr>
<td>Last frame additionnal data </td><td>byte[] </td><td>frameHeader[framesPerDir-1].optionalBytes </td></tr>
<tr>
<td></td><td></td></tr>
<tr>
<td>equalCellsBitStreamSize </td><td>uint20_t </td><td>20 bits (only if compressEqualCells is true) </td></tr>
<tr>
<td>pixelMaskBitStreamSize </td><td>uint20_t </td><td>20 bits </td></tr>
<tr>
<td>encodingTypeBitsreamSize </td><td>uint20_t </td><td>20 bits (only if hasRawPixelEncoding is true) </td></tr>
<tr>
<td>rawPixelCodesBitStreamSize </td><td>uint20_t </td><td>20 bits (only if hasRawPixelEncoding is true) </td></tr>
<tr>
<td>codeToPixelValue </td><td>bitset&lt;256&gt; </td><td>256 bits </td></tr>
<tr>
<td>equalCellBitStream </td><td>BitStream </td><td>equalCellsBitStreamSize </td></tr>
<tr>
<td>pixelMaskBitStream </td><td>BitStream </td><td>pixelMaskBitStreamSize </td></tr>
<tr>
<td>rawPixelUsageBitStream </td><td>BitStream </td><td>encodingTypeBitsreamSize </td></tr>
<tr>
<td>rawPixelCodesBitStream </td><td>BitStream </td><td>rawPixelCodesBitStreamSize </td></tr>
<tr>
<td>pixelCodesDisplacementBitStream </td><td>BitStream </td><td>Until end of the direction </td></tr>
</table>
<dl class="Decoders_tests"><dt><b><a class="el" href="Decoders_tests.html#_Decoders_tests000001">Tests:</a></b></dt><dd><p class="startdd"><a class="el" href="decoderstests_8cpp.html#TEST_DCC_BaalSpirit">DCC_BaalSpirit</a> </p>
<p><a class="el" href="decoderstests_8cpp.html#TEST_DCC_CRHDBRVDTHTH">DCC_CRHDBRVDTHTH</a> </p>
<p><a class="el" href="decoderstests_8cpp.html#TEST_DCC_BloodSmall01">DCC_BloodSmall01</a> </p>
<p class="enddd"><a class="el" href="decoderstests_8cpp.html#TEST_DCC_HZTRLITA1HTH">DCC_HZTRLITA1HTH</a> </p>
</dd></dl>

<p>Definition at line <a class="el" href="dcc_8h_source.html#l00046">46</a> of file <a class="el" href="dcc_8h_source.html">dcc.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a3d5f642826809d8b433a48f97b07e1ce"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool WorldStone::DCC::initDecoder </td>
          <td>(</td>
          <td class="paramtype">StreamPtr &amp;&amp;&#160;</td>
          <td class="paramname"><em>streamPtr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start decoding the stream and preparing data. </p>
<dl class="section return"><dt>Returns</dt><dd>true on success</dd></dl>
<p>Prepares the decoder to read the frames using <a class="el" href="classWorldStone_1_1DCC.html#a491736b40cf82ec189e9284b4cbb24b7">readDirection</a>. Basically calls extractHeaderAndOffsets, so that you can call <a class="el" href="classWorldStone_1_1DCC.html#aa94dc2287793a15b06b56f959d689fc6">getHeader</a>. </p>

<p>Definition at line <a class="el" href="dcc_8cpp_source.html#l00044">44</a> of file <a class="el" href="dcc_8cpp_source.html">dcc.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a491736b40cf82ec189e9284b4cbb24b7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool WorldStone::DCC::readDirection </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structWorldStone_1_1DCC_1_1Direction.html">Direction</a> &amp;&#160;</td>
          <td class="paramname"><em>outDir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>dirIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classWorldStone_1_1IImageProvider.html">IImageProvider</a>&lt; uint8_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>imgProvider</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Decodes a direction of the file into memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">outDir</td><td>Will hold the <a class="el" href="structWorldStone_1_1DCC_1_1Direction.html">Direction</a> information obtained during decoding. </td></tr>
    <tr><td class="paramname">dirIndex</td><td>The number of the direction in the file. </td></tr>
    <tr><td class="paramname">imgProvider</td><td>The image provider to be used when allocating frames data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success</dd></dl>
<p>Use <a class="el" href="classWorldStone_1_1DCC.html#aa94dc2287793a15b06b56f959d689fc6">getHeader</a> and the <a class="el" href="structWorldStone_1_1DCC_1_1Header.html#ac31af9f7a3c85e7d09f8ae3b588b3613">Header::directions</a> member to know how many directions are in the file. The frames will be allocated+decoded in order, hence using the images allocated using the image provider will be in the order of the file. </p>

<p>Definition at line <a class="el" href="dcc_8cpp_source.html#l00618">618</a> of file <a class="el" href="dcc_8cpp_source.html">dcc.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="af5511cc1cae916338a14f0e05f1b265f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr unsigned WorldStone::DCC::bitsWidthTable</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {0,  1,  2,  4,  6,  8,  10, 12,</div>
<div class="line">                                                    14, 16, 20, 24, 26, 28, 30, 32}</div>
</div><!-- fragment -->
<p>An array that maps an encoded 4-bit size to the real size in bits. </p>
<p>The values are { 0, 1, 2, 4, 6, 8, 10, 12, 14, 16, 20, 24, 26, 28, 30, 32 } </p>

<p>Definition at line <a class="el" href="dcc_8h_source.html#l00160">160</a> of file <a class="el" href="dcc_8h_source.html">dcc.h</a>.</p>

</div>
</div>
<a class="anchor" id="a2e1801763e93b3720f8062fde2af63c2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Vector&lt;uint32_t&gt; WorldStone::DCC::directionsOffsets</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Offset of each direction header in the file, follows the <a class="el" href="structWorldStone_1_1DCC_1_1Header.html">Header</a>. </p>
<p>Actually holds directions+1 values, the last one being the size of the file It lets us compute the size of a direction by substracting the next offset by the current one. </p>

<p>Definition at line <a class="el" href="dcc_8h_source.html#l00171">171</a> of file <a class="el" href="dcc_8h_source.html">dcc.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>source/decoders/include/<a class="el" href="dcc_8h_source.html">dcc.h</a></li>
<li>source/decoders/src/<a class="el" href="dcc_8cpp_source.html">dcc.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>WorldStone</b></li><li class="navelem"><a class="el" href="classWorldStone_1_1DCC.html">DCC</a></li>
    <li class="footer">Generated on Sat Nov 21 2020 01:55:16 for Worldstone by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
